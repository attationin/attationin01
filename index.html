<!DOCTYPE html>
<html>
<head>
	<title>Поиск клада!</title>
</head>
<body>
	<h1>Найди клад</h1>
	
	<img id="map" src="https://nostarch.com/images/treasuremap.png" 
		width="400"
		height="400"
	>
	
	<p id="distance"></p>

	<script src="https://code.jquery.com/jquery-2.1.0.js"></script>

	<script>
		var kladX = Math.floor(Math.random() * 400);
		var kladY = Math.floor(Math.random() * 400);

		var clickCounter = 0;
		
		function clickOnMap(event) {
			clickCounter++
        	console.log(event.offsetX + " "  + event.offsetY);

        	var diffX = event.offsetX - kladX;
        	var diffY = event.offsetY - kladY;
        	var distance = Math.sqrt(diffX * diffX + diffY * diffY);
  			if (distance < 8) {
  				document.write("Победа!" + " " + clickCounter);
  				return;
  			}
        	$("#distance").text(getDistanceHint(distance));

		}


		function getDistanceHint(distance) {
			if (distance < 10) {
		        return "Обожжешься!";
		    }
		    else if (distance < 20) {
			    return "Очень горячо";
		    }
		    else if (distance < 40) {
			    return "Горячо";
		    }
		    else if (distance < 80) {
			    return "Тепло";
            }
            else if (distance < 160) {
			    return "Холодно";
		    }
		    else if (distance < 320) {
			    return "Очень Холодно";
		    }
		    else {
			    return "Замерзнешь";
			}

		}


		



		$("#map").click(clickOnMap);






	</script>

</body>
</html>
